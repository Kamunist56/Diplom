unit cAdresPart;

interface
 {Класс для работы с таблицей улиц}
type
  Tstreet = Class
  public
    id: integer;
    name: string;

    procedure GetAtr(Find_id: integer);
    procedure ChangeAtr(Street: Tstreet);
    procedure NewStreet(Street: TStreet);
    procedure Del(Street: TStreet);
  End;

implementation

{ Tstreet }

uses fDM;

procedure Tstreet.ChangeAtr(Street: Tstreet);
begin
  dm.QUpdStreet.Parameters.ParamValues['id'] := Street.id;
  dm.QUpdStreet.Parameters.ParamValues['name'] := Street.name;
  dm.QUpdStreet.ExecSQL;
end;

procedure Tstreet.Del(Street: TStreet);
begin
  dm.QdelStreet.Parameters.ParamValues['id'] := Street.id;
  dm.qdelStreet.execSQL;
end;

procedure Tstreet.GetAtr(Find_id: integer);
begin
  dm.QGetStreet.Close;
  dm.QGetStreet.Parameters.ParamValues['id'] := Find_id;
  dm.QGetStreet.Open;
  name := dm.QGetStreetname.AsString;
  id := Find_id;
end;

procedure Tstreet.NewStreet(Street: TStreet);
begin
  dm.QInsStreet.Parameters.ParamValues['name'] := Street.name;
  dm.QInsStreet.ExecSQL;
end;

end.
